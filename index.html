<html>
    <head>
        <style>
            table, th, td {
                border: 1px solid black;
                border-collapse: collapse;
            }
            th, td{
                width: 50px;
            }
            input {
                width: 50px;
            }
        </style>
    </head>

    <body>
        <div id="tableDiv">
            <table id="myTable"></table>
        </div>
        <button onclick="createNewTable()">Create new workout plan!</button>
        
        <script>
            var exercise = {
                name: "exercise_1",
                sets: 3,
                reps: [[40, 8], [50, 7], [60, 6]]
            }

            var workoutPlan = [exercise, exercise, exercise];

            function createNewTable() {
                var row = document.createElement("tr");
                var tableExerciseCell = document.createElement("th");
                tableExerciseCell.innerHTML = "Exercise:";
                row.appendChild(tableExerciseCell);

                for (var i = 0; i < workoutPlan.length; i++) {
                    var weightCell = document.createElement("th");
                    var repCell = document.createElement("th");
                    weightCell.innerHTML = "Kg:"
                    repCell.innerHTML = "Reps:";
                    row.appendChild(weightCell);
                    row.appendChild(repCell);
                }
                var element1 = document.getElementById("myTable");
                element1.appendChild(row);

                var button = document.createElement("button");
                button.innerHTML = "Add exercise!";
                button.onclick = function(){ addRow(); };

                var element2 = document.getElementById("tableDiv");
                element2.appendChild(button);
            }

            function addRow() {
                var row = document.createElement("tr");
                var exerciseCell = document.createElement("td");
                exerciseCell.innerHTML = "exercise";
                row.appendChild(exerciseCell);

                for(var i = 0; i < workoutPlan.length; i++) {
                    var weightCell = document.createElement("td");
                    var repCell = document.createElement("td");
                    row.appendChild(weightCell);
                    row.appendChild(repCell);
                }
                var element = document.getElementById("myTable");
                element.appendChild(row);
            }
        </script>

        </br>
        </br>

        <table id="myWorkout">
            <caption>Workout plan</caption>
            <tr>
                <th></th>
                <th>kg</th>
                <th>reps</th>
                <th>kg</th>
                <th>reps</th>
                <th>kg</th>
                <th>reps</th>
                <th>kg</th>
                <th>reps</th>
            </tr>
            <tr>
                <td><select id="exercises" name="exercises">
                    <option value="exercise_1">exercise_1</option>
                    <option value="exercise_2">exercise_2</option>
                    <option value="exercise_3">exercise_3</option>
                    <option value="exercise_4">exercise_4</option>
                </select></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
            </tr>
            <tr>
                <td><select id="exercises" name="exercises">
                    <option value="exercise_1">exercise_1</option>
                    <option value="exercise_2">exercise_2</option>
                    <option value="exercise_3">exercise_3</option>
                    <option value="exercise_4">exercise_4</option>
                </select></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
            </tr>
            <tr>
                <td><select id="exercises" name="exercises">
                    <option value="exercise_1">exercise_1</option>
                    <option value="exercise_2">exercise_2</option>
                    <option value="exercise_3">exercise_3</option>
                    <option value="exercise_4">exercise_4</option>
                </select></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
            </tr>
            <tr>
                <td><select id="exercises" name="exercises">
                    <option value="exercise_1">exercise_1</option>
                    <option value="exercise_2">exercise_2</option>
                    <option value="exercise_3">exercise_3</option>
                    <option value="exercise_4">exercise_4</option>
                </select></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
                <td><input type="text"></input></td>
            </tr>
        </table>

        <button onclick="addRow2()">Add row!</button>
        <button onclick="addColumn()">Add column!</button>

        <script>
            function addRow2() {
                var table = document.getElementById("myWorkout");
                var rowNumber = table.getElementsByTagName('tr');
                var colNumber = table.getElementsByTagName('td');
                var number = colNumber.length / (rowNumber.length - 1);
                var row = table.insertRow(-1);
                var cell = row.insertCell();

                cell.innerHTML =
                    '<select id="exercises" name="exercises">' +
                        '<option value="exercise_1">exercise_1</option>' +
                        '<option value="exercise_2">exercise_2</option>' +
                        '<option value="exercise_3">exercise_3</option>' +
                        '<option value="exercise_4">exercise_4</option>' +
                    '</select>';
                
                for(i = 1; i < number; i++) {
                    cell = row.insertCell();
                    cell.innerHTML = '<input type="text"></input>';
                }
            }

            function addColumn() {
            }
        </script>
    </body>
</html>